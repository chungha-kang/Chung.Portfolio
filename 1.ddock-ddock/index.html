<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>메인 페이지</title>
	<link rel="stylesheet" media="all" href="css/common.css" />
	<link rel="stylesheet" media="all" href="css/bootstrap.css" />
	<script>
		$(document).ready( function() {
		    $("#header").load("module/header.html");
		    $("#footer").load("module/footer.html");
		});
	</script>
</head>
<body>
	<header>
		<!-- 상단 네비게이션 -->
		<div id="header"></div>
	</header>
	
	<div id="content1">
		<div class="content1-container">
			<div class="content1-container-text sa sa-slow">모두가 <span style="color: #ffdc00">함께</span> 하는<br> <span style="color: #ffdc00">쉐어하우스 똑똑</span></div>
			<div class="content1-container-text2 sa sa-up">copyright ⓒ2022 똑똑. All Rights reserved.</div>
		</div>
	</div>
	<div id="content2">
		<div class="content2-container sa sa-transform">
			<div class="content2-container-text sa sa-up">힘들 때 함께 하는 동네 친구처럼<br>함께하는 똑똑의 쉐어라이프</div>
			<div class="row row-cols-1 row-cols-md-4" style="justify-content: center; align-items: center; transform: translate( -1%, 300% );">
				<div class="col" style="max-width: 12rem;">
					<div class="card text-bg-light mb-3 sa sa-up" style="max-width: 18rem; margin: auto; font-weight: bold; text-align: center;">
					<div class="card-body">다양한 색깔을<br>내게 입히는<br>우리들의 공간<br><span style="font-size: 20px;">똑똑</span></div>
					</div>
				</div> 
				<div class="col" style="max-width: 20rem;">
					<div class="card text-bg-light mb-3 sa sa-up" data-sa-delay="200" style="max-width: 18rem; text-align: center; margin: auto;">
						<div class="card-header" style="font-weight: bold;">보금자리</div>
						<div class="card-body">
						<p class="card-text">너무 높은 주택 가격 때문에 힘들게<br>살 곳을 찾는 외로운 청년들,<br>이곳으로 오세요!</p>
						</div>
					</div>
				</div>
				<div class="col" style="max-width: 20rem;">
					<div class="card text-bg-light mb-3 sa sa-up" data-sa-delay="400" style="max-width: 18rem; text-align: center; margin: auto;">
						<div class="card-header" style="font-weight: bold;">수익성 재고</div>
						<div class="card-body">
						<p class="card-text">1인 가구가 늘어나며 방치되는<br>기존의 중·대형 주택들,<br>수익 모델을 새롭게 만들수 있습니다.</p>
						</div>
					</div>
				</div>
				<div class="col" style="max-width: 24rem;">
					<div class="card text-bg-light mb-3 sa sa-up" data-sa-delay="600" style="max-width: 24rem; text-align: center; margin: auto;">
						<div class="card-header" style="font-weight: bold;">업사이클링</div>
						<div class="card-body">
						<p class="card-text">관리가 되지 않아 주변 환경을 악화 시키고<br> 지역 공동체를 위협하는 빈집들,<br> 새롭게 뒤바꿉니다.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div id="content3">
		<div class="content3-container sa sa-transform">
			<img class="content3-arrow sa sa-down" src="img/arrow.png" style="transform: translate( 35vw, 21vw) rotate(-95deg) scaleX(-1);">
			<img class="content3-arrow sa sa-left" src="img/arrow.png" style="transform: translate( 53vw, 21vw) rotate(100deg);">
			<img class="content3-arrow sa sa-right" src="img/arrow.png" style="transform: translate( 45vw, 34vw) rotate(220deg);">
			<p class="content3-p sa sa-down" style="transform: translate( 35vw, 21vw);">직영점 및 커뮤니티<br> 공간 제공</p>
			<p class="content3-p sa sa-down" style="transform: translate( 53.5vw, 21vw);">리모델링<br>고객 유치</p>
			<p class="content3-p sa sa-down" style="transform: translate( 47vw, 34vw);">주거공간<br>서비스 제공 </p>
			<div class="content3-container-circle sa sa-down" style="transform: translate( 43vw, 10vw);">똑똑</div>
			<div class="content3-container-circle sa sa-left" style="transform: translate( 30vw, 20vw); float: left;">입주자</div>
			<div class="content3-container-circle sa sa-right" style="transform: translate( -33.5vw, 20vw); float: right;">집주인</div>
		</div>
	</div>
	
	<div class="recomand">
		<p class="sa" style="margin: 1em;">똑똑 쉐어하우스 둘러보기</p>
		<!-- 지도 api -->
		<div class="sa">
			<!-- 지도 api -->
			<div id="map" class="kakaomap mb-3"></div>
			
			<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9d829335a9dced379b8d992c97cf1140"></script>
			
			<script type="text/javascript">
				var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
				var options = { //지도를 생성할 때 필요한 기본 옵션
					center: new kakao.maps.LatLng(37.534138, 126.978580), //지도의 중심좌표.
					level: 8 //지도의 레벨(확대, 축소 정도)
				};
				
				var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
				
				// 마커를 표시할 위치와 내용을 가지고 있는 객체 배열입니다 
				var positions = [
					{
						// 커스텀 오버레이에 표시할 컨텐츠 입니다
						// 커스텀 오버레이는 아래와 같이 사용자가 자유롭게 컨텐츠를 구성하고 이벤트를 제어할 수 있기 때문에
						// 별도의 이벤트 메소드를 제공하지 않습니다 
				        content: '<div class="wrap">' + 
								'    <div class="info">' + 
					    		'        <div class="title">' + 
						        '            똑똑 본사' + 
						        '            <div class="close" onclick="closeOverlay()" title="닫기"></div>' + 
						        '        </div>' + 
						        '        <div class="body">' + 
						        '            <div class="img">' +
						        '                <img src="../resources/img/004.jpg" width="73" height="70">' +
						        '           </div>' + 
						        '            <div class="desc">' + 
						        '                <div class="ellipsis">서울특별시 강남구 테헤란로14길 6 남도빌딩2F</div>' + 
						        '                <div class="jibun ellipsis">(우) 06234 (지번) 역삼동 823-23</div>' + 
						        '                <div><a href="http://localhost/ddockddock/house/detail?id=17" class="link">게시물로 이동</a></div>' + 
						        '            </div>' + 
						        '        </div>' + 
						        '    </div>' +    
						        '</div>', 
				        latlng: new kakao.maps.LatLng(37.498975, 127.033000)
				    },
				    {
				        content: '<div class="map-font">똑똑 합정1호점</div>', 
				        latlng: new kakao.maps.LatLng(37.549873, 126.913642)
				    },
				    {
				        content: '<div class="map-font">똑똑 홍대1호점</div>', 
				        latlng: new kakao.maps.LatLng(37.557265, 126.922195)
				    },
				    {
				        content: '<div class="map-font">똑똑 홍대2호점</div>',
				        latlng: new kakao.maps.LatLng(37.562713, 126.923225)
				    }
				];
				/*
				for (var i = 0; i < positions.length; i ++) {
				    // 마커를 생성합니다
				    var marker = new kakao.maps.Marker({
				        map: map, // 마커를 표시할 지도
				        position: positions[i].latlng // 마커의 위치
				    });
				 
				// 마커에 표시할 인포윈도우를 생성합니다 
				var infowindow = new kakao.maps.InfoWindow({
					content: positions[i].content // 인포윈도우에 표시할 내용
				});
				    // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
				    // 이벤트 리스너로는 클로저를 만들어 등록합니다 
				    // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
				    kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
				    kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
				}
				*/
				
				// 인포윈도우 객체 배열
				var infowindowArray = [];
				for (var i = 0; i < positions.length; i++) {
					// 마커를 생성합니다
					var marker = new kakao.maps.Marker({
						map: map, // 마커를 표시할 지도
				    	position: positions[i].latlng, // 마커의 위치
					});
				  
					var infowindow = new kakao.maps.InfoWindow({
						content: positions[i].content, 
						disableAutoPan: true, // 인포윈도우를 열 때 지도가 자동으로 패닝하지 않을지의 여부 (기본값: false)
					});
					infowindowArray.push(infowindow); // 인포윈도우 배열에 푸시
					kakao.maps.event.addListener(
						marker,
						"click",
						makeOverListener(map, marker, infowindow, positions[i].latlng)
					);
					
					kakao.maps.event.addListener(map, "click", makeOutListener(infowindow));
				}
				
				// 인포윈도우를 닫는 함수
				function closeInfoWindow() {
					for (infowindow of infowindowArray) {
					infowindow.close();
					}
				}
				// 인포윈도우를 표시하는 클로저를 만드는 함수
				function makeOverListener(map, marker, infowindow, latlng) {
					return function() {
				    closeInfoWindow();
				    infowindow.open(map, marker);
				    panTo(latlng)
					};
				}
				
				// 인포윈도우를 닫는 클로저를 만드는 함수입니다 
				function makeOutListener(infowindow) {
				    return function() {
				        infowindow.close();
				    };
				}
				
				// 마커 위에 커스텀오버레이를 표시합니다
				// 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다
				var overlay = new kakao.maps.CustomOverlay({
				    content: content,
				    map: map,
				    position: marker.getPosition()
				});
				
				// 마커를 클릭했을 때 커스텀 오버레이를 표시합니다
				kakao.maps.event.addListener(marker, 'click', function() {
				    overlay.setMap(map);
				});
				
				// 커스텀 오버레이를 닫기 위해 호출되는 함수입니다 
				function closeOverlay() {
				    overlay.setMap(null);     
				}
				
				// 센터 좌표이동 부드럽게
				function panTo(latlng) {
					map.panTo(latlng);
				}
			</script>
			<p style="font-weight: regular; font-size: 15px; color: #a5a5a5; ">(지도 및 사진 클릭시 게시글로 이동합니다)</p>
		</div>
	</div>
	<div class="houseLink">
		<c:url value="/ddockddock" var="HomeUrl" />
		<c:url value="/ddockddock/house" var="houseUrl" />
		<form action="${HomeUrl}" method="get"></form>
		<form action="${houseUrl}" method="get"></form>
		<c:forEach items="${houseList}" var="houseList">
		<c:forEach var="delay" begin="0" end="${houseList.id}" step="100">
			<div class="houseLink-list-area">
				<div id="each-houseLink-frame">
					<c:url var="houseDetailUrl" value="${houseUrl}/detail" />
					<div class="houseLink-click" onclick="location.href='${houseDetailUrl}?id=${houseList.id}'">
						<div class="sa sa-transform" data-sa-delay="${delay}">
							<img id="houseLink-list-img" src="${pageContext.request.contextPath}${houseList.imgObj.url}/${houseList.imgObj.uuidName}" alt="쉐어하우스 이미지">
						</div>
					</div>
				</div>
			</div>
		</c:forEach>
		</c:forEach>
	</div>
	<div class="bottom"></div>

	<footer>
		<!-- 하단 네비게이션 -->
		<div class="footer">
			<div class="ft-containner">
				<div class="ft-left">
					<div class="ft-title">똑똑</div>
					<div class="ft-content">서울특별시 강남구 테헤란로14길 6 남도빌딩2F<br>대표번호: 02-0000-0000</div>
					<div class="ft-copy">copyright © 2022 똑똑. All rights reserved.</div>
				</div>
				<div class="ft-right">
					<div class="ft-terms">
						<a href="/ddockddock/useInfo">이용약관<br></a>
						<a href="/ddockddock/personalInfo">개인정보처리방침<br></a>
					</div>
					<div class="ft-connection"> 
						<a href="https://www.instagram.com/"><img class="footer-img" src="img/insta.png" alt="똑똑 인스타" title="똑똑 인스타 새창으로 열기"></a>
						<a href="https://blog.naver.com/"><img class="footer-img" src="img/blog.png" alt="똑똑 블로그" title="똑똑 블로그 새창으로 열기"></a>
						<a href="http://pf.kakao.com/"><img class="footer-img" src="img/kakaotalk.png" alt="똑똑 카카오톡" title="똑똑 카카오톡 상담하기"></a>
						<a href="tel:02-0000-0000"><img class="footer-img" src="img/phone.png" alt="똑똑 전화번호" title="똑똑 대표 번호"></a>
					</div>
				</div>
			</div>
		</div>
	</footer>
	
	<script>
		// Scroll Animation (sa, 스크롤 애니메이션)
		const saDefaultMargin = 300;
		let saTriggerMargin = 0;
		let saTriggerHeight = 0;
		const saElementList = document.querySelectorAll('.sa');
	
		const saFunc = function() {
		  for (const element of saElementList) {
		    if (!element.classList.contains('show')) {
		      if (element.dataset.saMargin) {
		        saTriggerMargin = parseInt(element.dataset.saMargin);
		      } else {
		        saTriggerMargin = saDefaultMargin;
		      }
	
		      if (element.dataset.saTrigger) {
		        saTriggerHeight = document.querySelector(element.dataset.saTrigger).getBoundingClientRect().top + saTriggerMargin;
		      } else {
		        saTriggerHeight = element.getBoundingClientRect().top + saTriggerMargin;
		      }
	
		      if (window.innerHeight > saTriggerHeight) {
		        let delay = (element.dataset.saDelay) ? element.dataset.saDelay : 0;
		        setTimeout(function() {
		          element.classList.add('show');
		        }, delay);
		      }
		    }
		  }
		}
	
		window.addEventListener('load', saFunc);
		window.addEventListener('scroll', saFunc);
	</script>
</body>
</html>